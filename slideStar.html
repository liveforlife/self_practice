<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">

		<title></title>
	</head>
	<body>
		<div id="tili">
			<span style="width: 50px;height:50px;background-color: red;display: inline-block;"></span>
			<span style="width: 50px;height:50px;background-color: red;display: inline-block;"></span>
			<span style="width: 50px;height:50px;background-color: red;display: inline-block;"></span>
			<span style="width: 50px;height:50px;background-color: red;display: inline-block;"></span>
			<span style="width: 50px;height:50px;background-color: red;display: inline-block;"></span>
		</div>
		
		<div id="output">
			
		</div>
		<script>
		var sclientX=0,sclientY=0,tanceX=0,tanceY=0,n=0;
function handleTouchEvent(event) {
    //只跟踪一次触摸
    if (event.touches.length == 1) {
        var output = document.getElementById("output");
        switch (event.type) {
            case "touchstart":
                output.innerHTML = "Touch started (" + event.touches[0].clientX + "," + event.touches[0].clientY + ")";
                shadeOr(event.changedTouches[0].clientX,event.changedTouches[0].clientY)
                sclientX=event.changedTouches[0].clientX;
				sclientY=event.changedTouches[0].clientY;
                break;
            case "touchend":
               output.innerHTML += "<br>Touch ended (" + event.changedTouches[0].clientX + "," + event.changeTouches[0].clientY + ")";
                
                break;
            case "touchmove":
                event.preventDefault(); //阻止滚动
                output.innerHTML += "<br>Touch moved (" + event.changedTouches[0].clientX + "," + event.changedTouches[0].clientY + ")";
               	var div=document.getElementById('tili');
				var span=div.getElementsByTagName('span');
	           	if(8<event.changedTouches[0].clientY&&event.changedTouches[0].clientY<61){
               		tanceX=event.changedTouches[0].clientX-sclientX;
					if(tanceX>0){
						if(tanceX>54){
							n++;
							for(var i=0;i<n;i++){
								span[i].style.backgroundColor='red';
							}
							sclientX=sclientX+54;
						}
					}else{
						if(tanceX<-54){
							n--;
							for(var i=n;i<span.length;i++){
								span[i].style.backgroundColor='white';
							}
							sclientX=sclientX-54;
						}
					}
               	}
               	break;
        }
    }
}
function shadeOr(ClientX,ClientY){
	var stclientX=0,stclientY=0;
	stclientX=ClientX;
    stclientY=ClientY;
    var div=document.getElementById('tili');
	var span=div.getElementsByTagName('span');
	if(stclientY>8&&stclientY<61){
		if(8<stclientX&&stclientX<58){
			n=0;
			for(var i=0;i<span.length;i++){
				span[i].style.backgroundColor='white';
			}
		}else if(58<stclientX&&stclientX<112){
			n=1;
			for(var i=1;i<span.length;i++){
				span[i].style.backgroundColor='white';
			}
		}else if(112<stclientX&&stclientX<170){
			n=2;
			for(var i=2;i<span.length;i++){
				span[i].style.backgroundColor='white';
			}
		}else if(170<stclientX&&stclientX<228){
			n=3
			for(var i=3;i<span.length;i++){
				span[i].style.backgroundColor='white';
			}
		}else if(228<stclientX&&stclientX<286){
			n=4
			for(var i=4;i<span.length;i++){
				span[i].style.backgroundColor='white';
			}
		}
	}
}
document.addEventListener("touchstart", handleTouchEvent, false);

document.addEventListener("touchend", handleTouchEvent, false);
document.addEventListener("touchmove", handleTouchEvent, false);

		</script>
	</body>
</html>
